unit ureg;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ExtCtrls, StdCtrls,jpeg;

type
  TFreg = class(TForm)
    GroupBox1: TGroupBox;
    LabeledEdit1: TLabeledEdit;
    GroupBox2: TGroupBox;
    Button1: TButton;
    Panel1: TPanel;
    Image1: TImage;
    Button2: TButton;
    LabeledEdit2: TLabeledEdit;
    procedure Button2Click(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure Button1Click(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Freg: TFreg;

implementation

uses Udm, DB;

{$R *.dfm}

procedure TFreg.Button1Click(Sender: TObject);
var logPass: array of string;
i,H,Counts,UserIndex:integer;
Login, Password, ResultLogPass: string;
begin
SetLength(logPass,800);
fdm.Querypas.Active:=true;
fdm.Querypas.First;
for i := 0 to  fdm.Querypas.RecordCount - 1 do
begin
//LogPass[I]:= ADOQuery1.FieldValues ['UserName']+' '+ADOQuery1.FieldValues ['UserPass']
 logPass[i]:=fdm.Querypas.FieldValues['user_pas']+' '+fdm.Querypas.FieldValues['usver_name'];
 fdm.Querypas.Next;
 Inc(Counts);

end;
ResultLogPass:=Trim(LabeledEdit1.Text)+' '+Trim(LabeledEdit2.Text);
for H := 0 to Counts  do
begin
  Userindex:=h;
  if ResultLogPass=logpass[h] then
  ShowMessage('правда')
  else
  freg.Caption:='не правда';
  
end;
   

end;

procedure TFreg.Button2Click(Sender: TObject);
begin
Close;
end;

procedure TFreg.FormClose(Sender: TObject; var Action: TCloseAction);
begin
    fdm.Querypas.Active:=false;
end;

procedure TFreg.FormShow(Sender: TObject);
begin
Image1.Picture.LoadFromFile('dog.jpg');
end;

end.
